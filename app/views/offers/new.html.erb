<h1>Offers#new</h1>

<div class="container">
  <%= @product.title %>

  <%= simple_form_for [@product, @offer] do |f| %>

    <% if @offer.errors[:base].any? %>
      <div class="alert alert-danger">
        <ul>
          <% @offer.errors[:base].each do |error| %>
            <li><%= error %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%# <% options = []
      options << ['Add New Product', new_product_path]
      options += @products.map { |p| [p.title, p.id] } %>

    <br>
    <% if @products.nil? || @products.empty? %>
      <p>You don't have any products to barter with</p>
      <%= link_to "Add a new product", new_product_path, class: 'btn btn-primary' %>
    <% else %>
      <%= f.input :offered_product, collection: @products %>
      <%= f.button :submit, class: 'btn btn-primary' %>
    <% end %>
  <% end %>
</div>
