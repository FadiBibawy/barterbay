

<br>
<div class="container">
  <div class="row justify-content-center">
    <div class="col-sm-8  d-flex justify-content-between">
      <h3>Products</h3>
      <div class="btn btn-success"><%= link_to 'add product', new_product_path %></div>
    </div>

    <div class="col-sm-8">
      <%= form_with url: products_path, method: :get, class: "d-flex" do %>
        <%= text_field_tag :query,
          params[:query],
          class: "form-control",
          placeholder: "Find a product or address"
        %>
        <%= submit_tag "Search", class: "btn btn-primary" %>
      <% end %>

<%# <h4><%= link_to product.title , product_path(product) </h4>
    <p><%= product.description || uploaded by: <%= link_to product.user.name, product.user %>
      <div id="products" class='mt-4 row gap-3'>
        <% @products.each do |product| %>
          <%= link_to product do %>
            <div class="card text-bg-light col-4"
                 style="max-width: 18rem; background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= cl_image_path product.photos.first.key, height: 300, crop: :fill %>')"
                 >
              <div class="card-header">Category: <%= product.category%></div>
              <div class="card-body">
                <h5 class="card-title h5"><%= product.title %></h5>
                <p class="card-text"><%= product.description %></p>
                <%# <%= link_to "Show more", product_path(product), class: 'btn btn-primary'%>
              </div>
            </div>
          <% end %>
        <% end %>
        <br>
        <% if @products.empty? %>
          <%# <p>There are no products with your search!</p> %>
        <% end %>
      </div>
    </div>
  </div>
</div>
